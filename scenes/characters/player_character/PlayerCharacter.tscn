[gd_scene load_steps=12 format=3 uid="uid://c45weam7tjqmw"]

[ext_resource type="PackedScene" uid="uid://byh3hlhe1fd0j" path="res://scenes/characters/character_base/CharacterBase.tscn" id="1_5b5t2"]
[ext_resource type="Script" path="res://scenes/characters/player_character/PlayerCharacter.cs" id="2_7uq42"]
[ext_resource type="Script" path="res://scenes/components/interaction/InteractionComponent.cs" id="3_3gtcp"]
[ext_resource type="PackedScene" uid="uid://8l8u7s0m7awg" path="res://ui/PlayerHUD.tscn" id="4_161ca"]
[ext_resource type="PackedScene" uid="uid://lw8xaecvvi5q" path="res://scenes/components/sound/SoundComponent.tscn" id="5_a402o"]
[ext_resource type="PackedScene" uid="uid://uywniyg1yd8x" path="res://scenes/components/combat_grid/CombatGridComponent.tscn" id="6_uw203"]
[ext_resource type="PackedScene" uid="uid://hqdj2ivnbab7" path="res://scenes/components/combat_grid/CombatGridPoint.tscn" id="7_1kmqq"]
[ext_resource type="PackedScene" uid="uid://b3rq16aalq4c2" path="res://scenes/components/movement/MovementComponent.tscn" id="8_8i55q"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_u7t72"]
radius = 0.025
height = 1.5

[sub_resource type="CylinderShape3D" id="CylinderShape3D_fewu7"]
height = 0.2

[sub_resource type="CylinderMesh" id="CylinderMesh_oel4a"]
bottom_radius = 0.3
height = 0.2

[node name="PlayerCharacter" node_paths=PackedStringArray("PrimaryCamera", "CharacterMovement", "_interactionComponent", "_head", "_soundComponent", "CombatGrid") instance=ExtResource("1_5b5t2")]
collision_layer = 6
collision_mask = 5
script = ExtResource("2_7uq42")
_movementSpeed = 2.0
_sprintMultiplier = 2.0
_brakingForce = 0.3
_gravityMultiplier = 1.5
PrimaryCamera = NodePath("CharacterBody/Hips/Head/PrimaryCamera")
CharacterMovement = NodePath("MovementComponent")
_interactionComponent = NodePath("InteractionComponent")
_head = NodePath("CharacterBody/Hips/Head")
_jumpForce = 5.5
_inputSensitivity = 0.0025
_carryGrabSpeedMultiplier = 0.2
_carryMovementSpeedMultiplier = 0.3
_stealthCapsuleHeight = 0.9
_stealthCapsulePosition = Vector3(0, 0.45, 0)
_soundComponent = NodePath("SoundComponent")
CombatGrid = NodePath("CharacterBody/CombatGridComponent")

[node name="Hips" type="Node3D" parent="CharacterBody" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[node name="Head" type="Node3D" parent="CharacterBody/Hips" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="PrimaryCamera" type="Camera3D" parent="CharacterBody/Hips/Head" index="0"]

[node name="InteractionCollision" type="Area3D" parent="CharacterBody/Hips/Head/PrimaryCamera" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
collision_layer = 15

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody/Hips/Head/PrimaryCamera/InteractionCollision" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0.75)
shape = SubResource("CapsuleShape3D_u7t72")

[node name="GrabPosition" type="Marker3D" parent="CharacterBody/Hips/Head/PrimaryCamera" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.7)

[node name="GrabJoint" type="Generic6DOFJoint3D" parent="CharacterBody/Hips/Head/PrimaryCamera" index="2"]
node_a = NodePath("../StaticBody3D")
linear_limit_x/enabled = false
linear_limit_y/enabled = false
linear_limit_z/enabled = false

[node name="StaticBody3D" type="StaticBody3D" parent="CharacterBody/Hips/Head/PrimaryCamera" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.5)

[node name="CombatGridComponent" parent="CharacterBody" index="1" node_paths=PackedStringArray("GridPoints") instance=ExtResource("6_uw203")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, -0.498571)
GridPoints = [null]

[node name="CombatGridPoint3" parent="CharacterBody/CombatGridComponent" index="0" node_paths=PackedStringArray("_collisionArea") instance=ExtResource("7_1kmqq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 3.5)
_collisionArea = NodePath("../CombatGridPoint/Area3D")

[node name="CombatGridPoint2" parent="CharacterBody/CombatGridComponent" index="1" node_paths=PackedStringArray("_collisionArea") instance=ExtResource("7_1kmqq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 3.5)
_collisionArea = NodePath("../CombatGridPoint/Area3D")

[node name="CombatGridPoint" parent="CharacterBody/CombatGridComponent" index="2" instance=ExtResource("7_1kmqq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.5)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="1"]
process_mode = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
visible = false
shape = SubResource("CylinderShape3D_fewu7")

[node name="InteractionComponent" type="Node" parent="." index="2" node_paths=PackedStringArray("_interactionCollision", "_grabPosition", "_grabJoint", "_grabAnchor")]
script = ExtResource("3_3gtcp")
_interactionCollision = NodePath("../CharacterBody/Hips/Head/PrimaryCamera/InteractionCollision")
_grabPosition = NodePath("../CharacterBody/Hips/Head/PrimaryCamera/GrabPosition")
_grabJoint = NodePath("../CharacterBody/Hips/Head/PrimaryCamera/GrabJoint")
_grabAnchor = NodePath("../CharacterBody/Hips/Head/PrimaryCamera/StaticBody3D")
_grabRotationStrength = 8.0

[node name="PlayerHUD" parent="." index="3" node_paths=PackedStringArray("_interactionComponent", "_healthComponent") instance=ExtResource("4_161ca")]
reticleDefaultColor = Color(1, 1, 1, 1)
reticleUseColor = Color(0, 0, 1, 1)
reticleGrabColor = Color(1, 1, 0, 1)
reticleEquipColor = Color(0, 1, 0, 1)
_interactionComponent = NodePath("../InteractionComponent")
_healthComponent = NodePath("../HealthComponent")

[node name="MeshInstance3D" type="MeshInstance3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
visible = false
mesh = SubResource("CylinderMesh_oel4a")
skeleton = NodePath("../CollisionShape3D")

[node name="SoundComponent" parent="." index="6" instance=ExtResource("5_a402o")]
visible = false

[node name="MovementComponent" parent="." index="7" instance=ExtResource("8_8i55q")]
MovementSpeed = 2.3
AccelerationForce = 0.1
BrakingForce = 0.1
JumpForce = 5.0
GravityMultiplier = 1.3
